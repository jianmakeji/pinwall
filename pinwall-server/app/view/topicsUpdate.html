{% extends "parent.html" %}

{% block cssfolder %}
	<link rel="stylesheet" type="text/css" href="../public/css/src/base.css"/>
	<link rel="stylesheet" type="text/css" href="../public/css/lib/iview.css">
	<link rel="stylesheet" type="text/css" href="../public/css/src/topicsUpdate.css"/>
	<link rel="stylesheet" type="text/css" href="../public/css/src/model.css"/>
{% endblock %}

{% block head_btn %}
	<i-col :xs="0" :sm="2" :md="2" :lg="2"><a href="/" style="display: flex;flex-direction: row;justify-content: center;width: 100%;height: 100%;background:#333;color: white;">精选</a></i-col>
	<i-col :xs="4" :sm="2" :md="2" :lg="2"><a href="/topicsAbout" style="display: flex;flex-direction: row;justify-content: center;width: 100%;height: 100%;background:#333;color: white;">毕设展</a></i-col>
	<i-col :xs="0" :sm="2" :md="2" :lg="2"><a href="/topics" style="display: flex;flex-direction: row;justify-content: center;width: 100%;height: 100%;background:#333;color: white;">作业荚</a></i-col>
{% endblock %}

{% block container %}
	<div class="container" :style="containerStyle">
        <h4>新建或设置作业荚</h4>
        <i-form :model="formItem" :label-width="80">
            <div class="form_box">
                <div class="left_form">
                    <form-item label="标题:">
                        <i-input v-model="formItem.name" placeholder="请输入作业荚名称"></i-input>
                    </form-item>
                    <form-item label="标签:" id="label_formitem">
                        <i-button type="success" size="small" icon="ios-brush" @click="deleteLabel(index)" v-for="(item,index) in [1,2,3,4]" style="margin-right:5px;"><span v-text="item"></span></i-button>
                    </form-item>
                    <form-item>
						<p>在下方输入新标签，按回车确认。</p>
                        <i-input v-model="formItem.input" placeholder="请输入新标签"></i-input>
                    </form-item>
                    <form-item label="内容说明:">
                        <i-input v-model="formItem.description" type="textarea" placeholder="请输入说明内容"></i-input>
                    </form-item>
                </div>
                <div class="right_form">
                    <div class="status">
                        <h5>作业荚状态</h5>
						<span v-if="formItem.status == 1"  class="current_state">关闭</span>
                        <span v-if="formItem.status == 0"  class="current_state">开放</span>
						<a v-if="formItem.status == 1" @click="updateTopicStatus">设为开放</a>
						<a v-if="formItem.status == 0" @click="updateTopicStatus">设为关闭</a>
                    </div>
                    <p class="error_infromation">作业荚关闭后，用户将无法修改或删除已上传到作业荚的作品，也不能上传其他新的作品到作业荚。</p>
                    <div class="info">
                        <h5>作业荚中的作品</h5>
                        <span class="total">135</span>
                        <a>查看</a>
                    </div>
                    <i-button type="error" long style="margin:20px 0;">删除作业荚及其中的所有作品 (无法恢复，谨慎操作)</i-button>
                    <div class="submit_box">
                        <i-button type="success">确定</i-button>
                        <i-button type="default">取消</i-button>
                    </div>
                </div>
            </div>
        </i-form>
	</div>
{% endblock %}

{% block jsfolder %}
	<script type="text/javascript" src="../public/js/lib/jquery.min.js"></script>
	<script type="text/javascript" src="../public/js/lib/vue.min.js"></script>
	<script type="text/javascript" src="../public/js/lib/iview.min.js"></script>
	<script type="text/javascript" src="../public/js/lib/vue-resource.js"></script>
	<script type="text/javascript" src="../public/js/src/config.js"></script>
	<script type="text/javascript" src="../public/js/src/topicsUpdate.js"></script>
{% endblock %}
