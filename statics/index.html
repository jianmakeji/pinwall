<!-- 精选页 -->
<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>首页</title>
		<link rel="stylesheet" type="text/css" href="css/src/base.css"/>
		<link rel="stylesheet" type="text/css" href="css/lib/iview.css">
		<link rel="stylesheet" type="text/css" href="css/src/home.css"/>
		<link rel="stylesheet" type="text/css" href="css/src/model.css">
	    <script type="text/javascript" src="js/lib/vue.min.js"></script>
	    <script type="text/javascript" src="js/lib/iview.min.js"></script>
	</head>
	<body>
		<div class="home" v-cloak>
			<div class="header">
			    <row>
                    <i-col :xs="4" :sm="2" :md="2" :lg="2"><i-button type="text" ghost="true" to="index.html">图钉墙</i-button></i-col>
			        <i-col :xs="0" :sm="2" :md="2" :lg="2"><i-button type="text" ghost="true" to="index.html">精选</i-button></i-col>
			        <i-col :xs="4" :sm="2" :md="2" :lg="2"><i-button type="text" ghost="true" to="topicsAbout.html">毕设展</i-button></i-col>
			        <i-col :xs="0" :sm="2" :md="2" :lg="2"><i-button type="text" ghost="true" to="topics.html">作业荚</i-button></i-col>
			        <i-col :xs="4" :sm="2" :md="2" :lg="2"><i-button type="text" ghost="true" @click="openModel">探索...</i-button></i-col>

			        <i-col :xs="0" :sm="{span:2,offset:6}" :md="{span:2,offset:6}" :lg="{span:1,offset:10}"><i-button type="text" ghost="true" @click="openLogin">用户</i-col>
			        <i-col :xs="0" :sm="2" :md="2" :lg="1"><i-button type="text" ghost="true" @click="openMenu">右侧栏</i-col>
			        <i-col :xs="6" :sm="2" :md="2" :lg="2"><i-button type="text" ghost="true" @click="openLogin">登陆/注册</i-col>
			    </row>
			</div>
			<div class="container" :style="containerStyle">
				<ul class="de_project_photowall">
					<li v-for="(item,index) in dataList" :class="setClass(index)">
						<div class="flip">
					        <div class="front">
					            <img src="http://pinwall.fzcloud.design-engine.org/5329/7703198392760.jpg?imageMogr2/thumbnail/400x400" alt="">
					        </div>
					        <div class="back">
					            <div class="user_Info">
					            	<a :href="setUserId(item.id)">
					            		<img v-if="index < 3" class="photo" src="http://pinwall.fzcloud.design-engine.org/5167/3076441136926.jpg"/>
					            		<p class="name"  v-if="index < 5">{{index}}桂芷欣</p>
					            		<p class="date"  v-if="index < 3">{{item.time}}</p>
					            	</a>
					            </div>
					            <div class="project_info">
					            	<a href="javascript:void(0)">
					            		<h4>来{{index}}</h4>
					            		<p class="abstract" v-if="!index">在科技高度发达的未来，如何利用能源是关键性的问题。并且伴水资源小范围的循环利用，形成了自己的小生态。</p>
					            	</a>
					            </div>
					            <p class="topic_title" v-if="!index">收录于
					            	<a :href="setTopicId(item.id)">2016级2班 整合设计表达（2018-2019秋季学期）</a>
					            </p>
					            <div class="de_stats_tags"  v-if="index < 3">
					            	<div class="badges" title="勋章">
					            		<img :src="item.src"/>
					            		<span>
					            			{{item.id}}
					            		</span>
					            	</div>
					            	<div class="likes" title="赞"><img :src="item.src"/>
					            		<span>
					            			{{item.id}}
					            		<span>
					            	</div>
					            	<div class="comments" title="评论">
					            		<img :src="item.src"/>
					            		<span>
					            			{{item.id}}
					            		</span>
					            	</div>
					            </div>
					        </span>
					    </div>
					</li>
				</ul>
			</div>
			<!-- 搜索弹出层 -->
			<modal v-model="searchModel" title="搜索" footer-hide :width="modelWidth">
			   <div class="search_panel">
					<div class="search_input_result">
						<i-input v-model="searchModelValue" @on-enter="searchModelData" placeholder="作品关键词/课程/学生/老师" style="width:80%;margin-left:10%;margin-top:30px;"></i-input>
						<div style="width:80%;margin-left:10%;">
							<i-table v-show="searchModelDataList.length" :columns="columns1" :data="searchModelDataList" @on-row-click="selectItem"></i-table>
						</div>
				   </div>
				   <div class="search_type">
					   <h3>按主题分类查看...</h3>
					   <ul class="directory_list">
						   <li>
							   <i-button type="text" style="color:#09bc72;" @click="toSearch('产品设计')">产品设计</i-button>
							   <i-button type="text" style="color:#09bc72;" @click="toSearch('交互设计')">交互设计</i-button>
							   <i-button type="text" style="color:#09bc72;" @click="toSearch('界面设计')">界面设计</i-button>
							   <i-button type="text" style="color:#09bc72;" @click="toSearch('交通工具设计')">交通工具设计</i-button>
							   <i-button type="text" style="color:#09bc72;" @click="toSearch('服务设计')">服务设计</i-button>
							   <i-button type="text" style="color:#09bc72;" @click="toSearch('平面设计')">平面设计</i-button>
							   <i-button type="text" style="color:#09bc72;" @click="toSearch('影像设计')">影像设计</i-button>
							   <i-button type="text" style="color:#09bc72;" @click="toSearch('工业设计史')">工业设计史</i-button>
							   <i-button type="text" style="color:#09bc72;" @click="toSearch('汽车造型设计理论与研究')">汽车造型设计理论与研究</i-button>
							   <i-button type="text" style="color:#09bc72;" @click="toSearch('设计概论')">设计概论</i-button>
							   <i-button type="text" style="color:#09bc72;" @click="toSearch('计算机辅助设计3')">计算机辅助设计3</i-button>
							   <i-button type="text" style="color:#09bc72;" @click="toSearch('数字界面原型')">数字界面原型</i-button>
						   </li>
					   </ul>
				   </div>
			   </div>
			</modal>
			<!-- 登陆弹出层 -->
			<modal v-model="loginModel" title="登陆" footer-hide :width="modelWidth">
			   <div class="login_panel">
					<div class="login_info">
						<i-form :model="formItem" :label-width="80">
					        <form-item label="用户名">
					            <i-input v-model="formItem.email" placeholder="请输入用户名"></i-input>
					        </form-item>
							<form-item label="密码">
					            <i-input v-model="formItem.password" placeholder="请输入密码"></i-input>
					        </form-item>
							<form-item>
					            <i-button type="text" @click="onRecoverPwd">忘记密码</i-button>
					        </form-item>
					        <form-item>
					            <i-button type="success">登陆</i-button>
					        </form-item>
					    </i-form>
				   </div>
				   <div class="register">
					   <h3>第一次来？请创建一个帐号。</h3>
					   <i-button @click="onRegister">注册</i-button>
				   </div>
			   </div>
			</modal>
			<!-- 忘记密码弹出层 -->
			<modal v-model="recoverPwdModel" title="忘记密码" footer-hide :width="modelWidth">
			   <div class="recoverPwd_panel">
					 <p style="color:#09bc72;width:80%;margin:20px auto;">不记得密码了？请输入您的注册邮箱，随后我们将发送一封邮件协助您找回密码。</p>
		            <i-input style="width:80%;margin:20px auto;" v-model="formItem.username" placeholder="请输入邮箱"></i-input>
		            <i-button style="width:80%;margin:20px auto;" type="success" long>提交</i-button>
					<p>请进入邮箱找回密码！</p>
			   </div>
			</modal>
			<!-- 注册弹出层 -->
			<modal v-model="registerModel" title="注册" footer-hide :width="modelWidth">
			   	<div class="register_panel">
				   	<i-form :model="formItem" :label-width="80">
					   	<form-item label="姓名">
						   	<i-input v-model="formItem.username" placeholder="请输入姓名(无法修改)"></i-input>
					   	</form-item>
					   	<form-item label="邮箱">
						   	<i-input v-model="formItem.email" placeholder="请输入密码"></i-input>
					   	</form-item>
					   	<form-item label="密码">
						   	<i-input type="password" v-model="formItem.password" placeholder="请输入密码"></i-input>
					   	</form-item>
						<form-item label="验证码">
							<i-input type="text" v-model="formItem.activecode" style="width:200px;" placeholder="请重新图片验证码"></i-input>
	            			<!-- <img :src="imgSrc" class="zyActiveCode" @click="tapClick"> -->
					   	</form-item>
					   	<form-item>
						   	<i-button type="success">注册</i-button>
					   	</form-item>
				   	</i-form>
			   	</div>
			</modal>
			<div class="footer">
				<p>© 湖南大学设计艺术学院，保留所有权利。</p>
			</div>
		</div>
		<script>
		    var home = new Vue({
		        el: '.home',
		        data(){
		            return{
						modelWidth:"",
		            	containerStyle:{
		            		background: "#2DB7F5",
						    width: "100%",
						    height: "500px",
						    marginTop:"",
						    overflow: "hidden",
						    position: "relative",
		            	},
						// 搜索弹出层
			            searchModel:false,  /* 搜索弹出层model */
			            searchModelValue:"",    /*搜索内容*/
			            searchModelDataList:[],
			            modelWidth:"",
			            columns1:[
			                {title:"搜索结果",key:"name"}
			            ],
						// 注册弹出层
			            loginModel:false,
			            formItem:{
			                username:"",
			                email:"",
			                password:""
			            },
			            // 忘记密码弹出层
			            recoverPwdModel:false,
			            // 注册弹出层
			            registerModel:false,
			            imgSrc:"user/getCode",	//图片验证码路径

		            	dataList:[
		            		{id:1,name:"1111111",content:'fgasdfasdfasdfasdfa',time:"2018-1-1",src:"http://pinwall.fzcloud.design-engine.org/5329/7703198392760.jpg?imageMogr2/thumbnail/400x400"},
		            		{id:2,name:"2222222",content:'asdfasdfasdfasdfasd',time:"2018-1-1",src:"http://pinwall.fzcloud.design-engine.org/5354/15405721054080.png?imageMogr2/thumbnail/400x400"},
		            		{id:3,name:"2222222",content:'asdfasdfasdfasdfasd',time:"2018-1-1",src:"http://pinwall.fzcloud.design-engine.org/5354/15405721054080.png?imageMogr2/thumbnail/400x400"},
		            		{id:4,name:"2222222",content:'asdfasdfasdfasdfasd',time:"2018-1-1",src:"http://pinwall.fzcloud.design-engine.org/5354/15405721054080.png?imageMogr2/thumbnail/400x400"},
		            		{id:5,name:"2222222",content:'asdfasdfasdfasdfasd',time:"2018-1-1",src:"http://pinwall.fzcloud.design-engine.org/5354/15405721054080.png?imageMogr2/thumbnail/400x400"},
		            		{id:6,name:"2222222",content:'asdfasdfasdfasdfasd',time:"2018-1-1",src:"http://pinwall.fzcloud.design-engine.org/5354/15405721054080.png?imageMogr2/thumbnail/400x400"},
		            		{id:7,name:"2222222",content:'asdfasdfasdfasdfasd',time:"2018-1-1",src:"http://pinwall.fzcloud.design-engine.org/5354/15405721054080.png?imageMogr2/thumbnail/400x400"},
		            		{id:8,name:"2222222",content:'asdfasdfasdfasdfasd',time:"2018-1-1",src:"http://pinwall.fzcloud.design-engine.org/5354/15405721054080.png?imageMogr2/thumbnail/400x400"},
		            		{id:9,name:"2222222",content:'asdfasdfasdfasdfasd',time:"2018-1-1",src:"http://pinwall.fzcloud.design-engine.org/5354/15405721054080.png?imageMogr2/thumbnail/400x400"},
		            		{id:10,name:"2222222",content:'asdfasdfasdfasdfasd',time:"2018-1-1",src:"http://pinwall.fzcloud.design-engine.org/5354/15405721054080.png?imageMogr2/thumbnail/400x400"},
		            		{id:11,name:"2222222",content:'asdfasdfasdfasdfasd',time:"2018-1-1",src:"http://pinwall.fzcloud.design-engine.org/5354/15405721054080.png?imageMogr2/thumbnail/400x400"},
		            		{id:12,name:"2222222",content:'asdfasdfasdfasdfasd',time:"2018-1-1",src:"http://pinwall.fzcloud.design-engine.org/5354/15405721054080.png?imageMogr2/thumbnail/400x400"}
		            	]
		            }
		        },
		        methods: {
		            setClass(index){
		            	let obj = {}
			            obj[`item-${index}`] = true;
			            return obj
		            },
		            setUserId(id){
		            	let obj = `users/${id}`;
			            return obj
		            },
		            setTopicId(id){
		            	let obj = `topics/${id}`;
			            return obj
		            },
					// 打开search弹出层
					openModel(){
						console.log("openModel");
						this.searchModel = true;
					},
					// 回车搜索
			        searchModelData(){
			            console.log("searchModelData");
			            this.searchModelDataList = [
			                {id:1,name:"11111111111"},
			                {id:2,name:"22222222222"},
			                {id:3,name:"33333333333"},
			                {id:4,name:"44444444444"},
			                {id:5,name:"55555555555"}
			            ]
			        },
					// 搜索结果字段选择
			        selectItem(index){
			            console.log("selectItem",index);
			        },
					// 打开登陆弹出层
					openLogin(){
			            this.loginModel = true;
					},
					onRecoverPwd(){
			            this.loginModel = false;
			            this.recoverPwdModel = true;
			        },
					onRegister(){
			            this.loginModel = false;
			            this.registerModel = true;
			        },
					tapClick() {
			    		var timeStamp = '?' + new Date().getTime() + 'r' + Math.random();
			    		this.imgSrc = "user/getCode"+timeStamp;
			        },
					// 打开右侧栏弹出层
					openMenu(){
						console.log("openMenu");
					}
		        },
		        created(){
		        	this.containerStyle.marginTop = (document.documentElement.clientHeight - 60 - 500 - 50 ) / 2 + "px";
					if(document.documentElement.clientWidth > 1200){
			            this.modelWidth = "60%";
			        }else if(document.documentElement.clientWidth < 1200){
			            this.modelWidth = "70%";
			        }else if(document.documentElement.clientWidth < 992){
			            this.modelWidth = "80%";
			        }
		        }
		    })
		</script>
	</body>
</html>
